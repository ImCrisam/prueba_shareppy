(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217df1"],{c927:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",[e("v-dialog",{model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.title))])]),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{attrs:{name:"Nombres",label:"Nombres",id:"Nombres"},model:{value:t.nombre,callback:function(a){t.nombre=a},expression:"nombre"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{attrs:{name:"cantidad",label:"cantidad",id:"cantidad"},model:{value:t.cantidad,callback:function(a){t.cantidad=a},expression:"cantidad"}})],1),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{name:"valor",label:"valor",id:"valor"},model:{value:t.valor,callback:function(a){t.valor=a},expression:"valor"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{on:{click:function(a){t.dialog=!1}}},[t._v("Cancelar")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.dialogAcepter}},[t._v(t._s(t.isNew?"Agregar":"Actualizar"))])],1)],1)],1),e("v-snackbar",{attrs:{timeout:t.timeout,center:"",shaped:"",bottom:"",right:"",transition:"slide-y-reverse-transition",color:t.coloAlert},scopedSlots:t._u([{key:"action",fn:function(a){var o=a.attrs;return[e("v-btn",t._b({staticClass:"elevation-0",attrs:{small:"",icon:""},on:{click:function(a){t.snackbar=t.dialogAlert}}},"v-btn",o,!1),[e("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.dialogAlert,callback:function(a){t.dialogAlert=a},expression:"dialogAlert"}},[e("div",{staticClass:"text-center title text"},[t._v(" "+t._s(t.textDialogAler)+" ")])]),e("data-table-base",{attrs:{title:t.titles,data:t.data,headers:t.headers,isloading:t.isloading},on:{reroll:t.reroll,add:t.add,edit:t.edit,active:t.active,delete:t.borrar}})],1)},i=[],l=e("1db0"),r=e("260b"),s={components:{DataTableBase:l["a"]},data(){return{dialog:!1,id:"",nombre:"",cantidad:"",valor:"",isNew:!1,dialogAlert:!1,textDialogAler:"",coloAlert:"",timeout:2e3,isloading:!1,title:"Producto",titles:"Productos",data:[],headers:[{text:"Nombre",value:"nombre",sortable:!0,align:"center"},{text:"Cantidad",value:"cantidad",sortable:!0,align:"center"},{text:"Valor",value:"valor",sortable:!0,align:"center"},{text:"Estado",value:"state",sortable:!0,align:"center"},{text:"Opciones",value:"opciones",sortable:!1,align:"center"},{text:"Borrar Disabled",value:"borrar",sortable:!1,align:"center"}]}},created(){this.listar()},methods:{reroll(){this.listar()},add(){this.isNew=!0,this.dialog=!0,this.id="",this.nombre="",this.cantidad="",this.valor=""},edit(t){this.isNew=!1,this.id=t.id,this.dialog=!0,this.nombre=t.nombre,this.cantidad=t.cantidad,this.valor=t.valor},active(t,a){r["a"].firestore().collection("products").doc(t.id).update({state:a}).then(()=>{var t="Producto ";t+=a?"Activado":"Desactivado",this.openDialogResponse(!0,t)}).catch(t=>{this.openDialogResponse(!1,"Error"),console.log(t)})},borrar(t){r["a"].firestore().collection("products").doc(t.id).delete().then(()=>{this.openDialogResponse(!0,"Producto borrado")}).catch(t=>{this.openDialogResponse(!1,"Error"),console.log(t)})},openDialogResponse(t,a){this.listar(),this.textDialogAler=a,this.coloAlert=t?"accent":"error",this.isloading=!1,this.dialogAlert=!0},listar(){this.isloading=!0,this.data=[],r["a"].firestore().collection("products").get().then(t=>{t.forEach(t=>{this.data.push({id:t.id,nombre:t.data().nombre,cantidad:t.data().cantidad,valor:t.data().valor,state:t.data().state})}),this.isloading=!1}).catch(t=>{this.isloading=!1})},dialogAcepter(){this.isNew?r["a"].firestore().collection("products").add({nombre:this.nombre,cantidad:this.cantidad,valor:this.valor,state:!0}).then(()=>{this.openDialogResponse(!0,"Creado"),this.dialog=!1}).catch(t=>{this.openDialogResponse(!1,"Error"),this.dialog=!1,console.log(t)}):r["a"].firestore().collection("products").doc(this.id).update({nombre:this.nombre,cantidad:this.cantidad,valor:this.valor}).then(()=>{this.openDialogResponse(!0,"actualizado"),this.dialog=!1}).catch(t=>{this.openDialogResponse(!1,"Error"),this.dialog=!1,console.log(t)})}}},n=s,d=e("2877"),c=e("6544"),h=e.n(c),v=e("8336"),b=e("b0af"),g=e("99d9"),u=e("a523"),p=e("169a"),m=e("0e8f"),x=e("132d"),f=e("a722"),A=e("2db4"),D=e("2fa4"),k=e("8654"),V=Object(d["a"])(n,o,i,!1,null,null,null);a["default"]=V.exports;h()(V,{VBtn:v["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:u["a"],VDialog:p["a"],VFlex:m["a"],VIcon:x["a"],VLayout:f["a"],VSnackbar:A["a"],VSpacer:D["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-2d217df1.d65f91ce.js.map