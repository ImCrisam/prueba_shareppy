(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aeb55"],{"0ae3":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h4",{staticClass:"headline"},[e._v(e._s(e.email))])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{name:"Nombres",label:"Nombres",id:"Nombres"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{name:"cedula",label:"cedula",id:"cedula"},model:{value:e.cedula,callback:function(t){e.cedula=t},expression:"cedula"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{name:"telefono",label:"telefono",id:"telefono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:e.roles,label:"Rol","item-text":"nombre","item-value":"id","persistent-hint":"","return-object":"","single-line":""},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1)],1)],1)],1),a("v-card-actions",[a("v-flex",{attrs:{xs8:"",sm6:""}},[a("v-btn",{attrs:{color:"info"},on:{click:e.cambioContra}},[e._v("Cambiar ContraseÃ±a")])],1),a("v-spacer"),a("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"primary"},on:{click:e.dialogAcepter}},[e._v("Guardar")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout,center:"",shaped:"",bottom:"",right:"",transition:"slide-y-reverse-transition",color:e.coloAlert},scopedSlots:e._u([{key:"action",fn:function(t){var l=t.attrs;return[a("v-btn",e._b({staticClass:"elevation-0",attrs:{small:"",icon:""},on:{click:function(t){e.snackbar=e.dialogAlert}}},"v-btn",l,!1),[a("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.dialogAlert,callback:function(t){e.dialogAlert=t},expression:"dialogAlert"}},[a("div",{staticClass:"text-center title text"},[e._v(" "+e._s(e.textDialogAler)+" ")])]),a("data-table-base",{attrs:{title:e.titles,data:e.data,headers:e.headers,isloading:e.isloading},on:{reroll:e.reroll,add:e.add,edit:e.edit,active:e.active}})],1)},o=[],i=a("1db0"),s=a("260b"),r={components:{DataTableBase:i["a"]},data(){return{dialog:!1,roles:["Administrador","Usuario","Operador"],rol:"",email:"",id:"",nombre:"",cedula:"",telefono:"",dialogAlert:!1,textDialogAler:"",coloAlert:"",timeout:2e3,isloading:!1,title:"Usuario",titles:"Usuarios",data:[],headers:[{text:"Email",value:"email",sortable:!0,align:"center"},{text:"Nombre",value:"nombre",sortable:!0,align:"center"},{text:"Cedula",value:"cedula",sortable:!0,align:"center"},{text:"Telefono",value:"telefono",sortable:!0,align:"center"},{text:"Rol",value:"rol",sortable:!0,align:"center"},{text:"Estado",value:"state",sortable:!0,align:"center"},{text:"Opciones",value:"opciones",sortable:!1,align:"center"}]}},created(){this.listar()},methods:{reroll(){this.listar()},add(){this.$router.push({name:"logup"})},edit(e){this.id=e.id,this.dialog=!0,this.email=e.email,this.rol=e.rol,this.nombre=e.nombre,this.cedula=e.cedula,this.telefono=e.telefono},active(e,t){s["a"].firestore().collection("user").doc(e.id).update({state:t}).then(()=>{var e="Usuario ";e+=t?"Activado":"Desactivado",this.openDialogResponse(!0,e)}).catch(e=>{this.openDialogResponse(!1,"Error"),console.log(e)})},openDialogResponse(e,t){this.listar(),this.textDialogAler=t,this.coloAlert=e?"accent":"error",this.isloading=!1,this.dialogAlert=!0},listar(){this.isloading=!0,this.data=[],s["a"].firestore().collection("user").get().then(e=>{e.forEach(e=>{this.data.push({id:e.id,rol:e.data().rol,nombre:e.data().nombre,cedula:e.data().cedula,telefono:e.data().telefono,email:e.data().email,state:e.data().state})}),this.isloading=!1}).catch(e=>{this.isloading=!1})},dialogAcepter(){s["a"].firestore().collection("user").doc(this.id).update({rol:this.rol,nombre:this.nombre,cedula:this.cedula,telefono:this.telefono}).then(()=>{this.openDialogResponse(!0,"actualizado"),this.dialog=!1}).catch(e=>{this.openDialogResponse(!1,"Error"),this.dialog=!1,console.log(e)})},cambioContra(){s["a"].auth().sendPasswordResetEmail(this.email).then(()=>{this.dialog=!1}).catch(e=>{this.dialog=!1,console.log(e)})}}},n=r,d=a("2877"),c=a("6544"),u=a.n(c),b=a("8336"),h=a("b0af"),m=a("99d9"),v=a("a523"),g=a("169a"),f=a("0e8f"),p=a("132d"),x=a("a722"),k=a("b974"),A=a("2db4"),C=a("2fa4"),V=a("8654"),_=Object(d["a"])(n,l,o,!1,null,null,null);t["default"]=_.exports;u()(_,{VBtn:b["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:v["a"],VDialog:g["a"],VFlex:f["a"],VIcon:p["a"],VLayout:x["a"],VSelect:k["a"],VSnackbar:A["a"],VSpacer:C["a"],VTextField:V["a"]})}}]);
//# sourceMappingURL=chunk-2d0aeb55.a496444e.js.map